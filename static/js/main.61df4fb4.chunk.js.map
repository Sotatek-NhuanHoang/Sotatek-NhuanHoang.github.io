{"version":3,"sources":["../../SharedResource/SocketServerEvents.js","../../SharedResource/SocketClientEvents.js","config/index.js","socket/UserHandler.js","api/BaseApi.js","api/RoomApi.js","service/AlertService.js","store/match.js","store/room.js","socket/RoomHandler.js","socket/MatchHandler.js","store/score.js","socket/ScoreHandler.js","socket/index.js","api/UserApi.js","store/user.js","store/store.js","service/SpinnerService.js","screens/LoginScreen/LoginScreen.js","screens/RoomScreen/CreatorName.js","screens/RoomScreen/RoomItem.js","screens/RoomScreen/RoomScreen.js","screens/MatchScreen/CaroBoardSquare.js","screens/MatchScreen/CaroBoard.js","screens/MatchScreen/UserScore.js","screens/MatchScreen/CompetitorUser.js","screens/MatchScreen/CurrentUser.js","screens/MatchScreen/MatchScreen.js","Router.js","App.js","index.js","../../SharedResource/ServerError.js","socket/combineHandlers.js","../../SharedResource/RoomStatus.js","assets/images/o.png","assets/images/x.png"],"names":["module","exports","user_AUTHENTICATED","user_UNAUTHENTICATED","room_ADD_NEW","room_REMOVE","room_UPDATE","room_JOIN","room_EXIT","match_STROKE","match_READY_NEW_GAME","score_UPDATE","user_AUTHENTICATE","user_LOGOUT","match_WIN","SquareType","X","O","Config","API_SERVER_URL","API_SERVER_VERSION","SOCKET_SERVER_URL","CARO_BOARD_ROW","CARO_BOARD_COLUMN","FIRST_MOVE_SQUARE_TYPE","SECOND_MOVE_SQUARE_TYPE","ScoreHandler","eventName","params","SocketServerEvents","dispatch","user_UPDATE_STATE","isSocketAuthenticated","isSocketAuthenticating","Api","create","baseURL","headers","Accept","Content-Type","BaseApi","GET","_GET","Object","asyncToGenerator","regenerator_default","a","mark","_callee","endPoint","_store$getState","user","token","response","_args","arguments","wrap","_context","prev","next","length","undefined","store","getState","_","get","Authorization","sent","ok","Error","data","message","abrupt","t0","stop","_x","apply","this","POST","_POST","_callee2","_store$getState2","_args2","_context2","post","_x2","PUT","_PUT","_callee3","_store$getState3","_args3","_context3","put","_x3","DELETE","RoomApi","getRooms","page","createRoom","joinRoom","roomId","alertOptions","theme","timeout","layout","progressBar","showError","msg","Noty","objectSpread","type","text","show","showInfo","defaultState","firstMoveUserId","winnerId","isCurentUserTurn","squares","lastSquareIndex","winningSquares","currentUserReadyNewGame","competitorUserReadyNewGame","checkHorizontal","row","column","rootSquareType","boardRow","boardColumn","defineProperty","i","squareIndex","keys","checkVertical","checkLeftBias","x","y","checkRightBias","checkWinningMatchFromIndex","squareType","checkers","match_RESET","createAction","match_UPDATE_STATE","reducer","handleActions","state","_ref2","payload","cloneDeep","_ref3","fromJS","mergeDeep","toJS","squareSelector","createSelector","match","_ref4","winningSquareSelector","_ref5","room_UPDATE_STATE","removeIn","rooms","total","limit","isGettingRooms","getRoomsError","joiningRoom","joinRoomError","currentRoomId","sortedRoomIdsSelector","room","currentUser","_ref6","availableRooms","filter","status","RoomStatus","WAITING","creatorUserId","id","sortedRooms","sortBy","updated","map","roomSelector","_ref7","RoomHandler","otherUsers","creatorUser","_id","competitorUser","_getState","competitorUserId","_ref","competitorSquareIndex","competitorSquareType","_getState2","nextMatch","_roomId","_getState3","_room","sleep","score_UPDATE_STATE","scores","scoreSelector","score","userId","rawScores","reduce","memo","item","socket","io","socketWildcard","Manager","eventHandler","combineHandlers","UserHandler","MatchHandler","on","emit","SocketClientEvents","_data","slicedToArray","UserApi","login","accessToken","facebookId","isLogging","loginError","user_RESET","otherUserSelector","reducers","combineReducers","global","globalReducer","roomReducer","persistReducer","key","storage","whitelist","userReducer","matchReducer","scoreReducer","middleWares","thunk","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","applyMiddleware","createStore","persistor","persistStore","showSpinner","document","getElementById","overlayElement","createElement","body","appendChild","ReactDOM","render","react_default","className","react_spinners","color","size","hideSpinner","remove","LoginScreen","props","history","push","title","prevProps","_this","FB","getLoginStatus","authResponse","userID","_login","_this2","onClick","onLoginButtonPressed","PureComponent","connect","username","avatar","user_LOGIN","CreatorName","ownProps","RoomItem","onRoomItemClicked","_joinRoom","RoomScreen_CreatorName","joinedRoom","_x4","room_JOIN_ROOM","RoomScreen","trackScrolling","wrappedElement","isBottom","_getRooms","onNewRoomButtonClicked","_createRoom","onLogoutButtonClicked","_logout","addEventListener","_socketAuthenticate","ServerError","ROOM_FULL","ROOM_DELETED","UNAUTHENTICATED","removeEventListener","el","getBoundingClientRect","bottom","innerHeight","_this$props","roomIds","RoomScreen_RoomItem","loading","totalRooms","shouldRefresh","rawRooms","rawCreatorUsers","creatorUsers","room_GET_ROOMS","newRoom","CaroBoardSquare","stroke","_stroke","renderXO","react","alt","src","oImage","xImage","_this$props2","isWinningSquare","isLastSquare","classNames","square-winning","square-last-index","currentRoom","CaroBoard","Array","rowIndex","col","columnIndex","screens_MatchScreen_CaroBoardSquare","UserScore","CompetitorUser","concat","MatchScreen_UserScore","CurrentUser","MatchScreen","onBackButtonPressed","_exitRoom","onExitRoomButtonClicked","_playNewGame","_reMatch","_ref$confirmText","confirmText","onConfirm","_ref$cancelText","cancelText","onCancel","confirmAlert","buttons","label","showConfirmAlert","screens_MatchScreen_CaroBoard","screens_MatchScreen_CompetitorUser","screens_MatchScreen_CurrentUser","_getState4","Router","HashRouter","Route","path","exact","component","RoomsScreen","App","es","integration_react","Router_Router","Component","console","log","src_App","USER_NOT_FOUND","setImmediate","handlers","_loop","PLAYING","__webpack_require__","p"],"mappings":"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","file":"static/js/main.61df4fb4.chunk.js","sourcesContent":["module.exports = {\n  user_AUTHENTICATED: 'user_AUTHENTICATED',\n  user_UNAUTHENTICATED: 'user_UNAUTHENTICATED',\n  room_ADD_NEW: 'room_ADD_NEW',\n  room_REMOVE: 'room_REMOVE',\n  room_UPDATE: 'room_UPDATE',\n  room_JOIN: 'room_JOIN',\n  room_EXIT: 'room_EXIT',\n  match_STROKE: 'match_STROKE',\n  match_READY_NEW_GAME: 'match_READY_NEW_GAME',\n  score_UPDATE: 'score_UPDATE'\n};","module.exports = {\n  user_AUTHENTICATE: 'user_AUTHENTICATE',\n  user_LOGOUT: 'user_LOGOUT',\n  room_EXIT: 'room_EXIT',\n  match_STROKE: 'match_STROKE',\n  match_READY_NEW_GAME: 'match_READY_NEW_GAME',\n  match_WIN: 'match_WIN'\n};","export const SquareType = {\n    X: 'X',\n    O: 'O',\n};\n\nconst Config = {\n    API_SERVER_URL: process.env.NODE_ENV === 'development' ? 'http://127.0.0.1:8080' : 'https://caro-api.herokuapp.com',\n    API_SERVER_VERSION: 'v1',\n    SOCKET_SERVER_URL: process.env.NODE_ENV === 'development' ? 'http://127.0.0.1:8083' : 'https://caro-socket.herokuapp.com',\n    CARO_BOARD_ROW: 30,\n    CARO_BOARD_COLUMN: 48,\n    FIRST_MOVE_SQUARE_TYPE: SquareType.X,\n    SECOND_MOVE_SQUARE_TYPE: SquareType.O,\n};\n\n\nexport default Config;\n","import SocketServerEvents from 'caro-shared-resource/SocketServerEvents';\nimport { dispatch } from 'caro-store';\nimport { user_UPDATE_STATE } from 'caro-store/user';\n\n\nconst ScoreHandler = (eventName, params) => {\n    switch (eventName) {\n        case SocketServerEvents.user_AUTHENTICATED: {\n            dispatch(user_UPDATE_STATE({\n                isSocketAuthenticated: true,\n                isSocketAuthenticating: false,\n            }));\n            break;\n        }\n\n        case SocketServerEvents.user_UNAUTHENTICATED: {\n            dispatch(user_UPDATE_STATE({\n                isSocketAuthenticated: false,\n                isSocketAuthenticating: false,\n            }));\n            break;\n        }\n\n        default:\n            break;\n    }\n};\n\n\nexport default ScoreHandler;","import { create } from 'apisauce';\nimport Config from 'caro-config';\nimport store from 'caro-store';\nimport _ from 'lodash';\n\n\nconst Api = create({\n    baseURL: Config.API_SERVER_URL + '/' + Config.API_SERVER_VERSION,\n    headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n    },  \n});\n\n\nconst BaseApi = {\n    GET: async (endPoint, params = {}) => {\n        const { user } = store.getState();\n        const token = _.get(user, ['currentUser', 'token']);\n\n        try {\n            const response = await Api.get(endPoint, params, {\n                headers: {\n                    'Authorization': 'Bearer ' + token,\n                },\n            });\n\n            if (!response.ok) {\n                throw new Error(response.data.message);\n            }\n\n            return response.data;\n        } catch (error) {\n            throw error;\n        }\n    },\n\n    POST: async (endPoint, params = {}) => {\n        const { user } = store.getState();\n        const token = _.get(user, ['currentUser', 'token']);\n\n        try {\n            const response = await Api.post(endPoint, params, {\n                headers: {\n                    'Authorization': 'Bearer ' + token,\n                },\n            });\n\n            if (!response.ok) {\n                throw new Error(response.data.message);\n            }\n\n            return response.data;\n        } catch (error) {\n            throw error;\n        }\n    },\n\n    PUT: async (endPoint, params = {}) => {\n        const { user } = store.getState();\n        const token = _.get(user, ['currentUser', 'token']);\n\n        try {\n            const response = await Api.put(endPoint, params, {\n                headers: {\n                    'Authorization': 'Bearer ' + token,\n                },\n            });\n\n            if (!response.ok) {\n                throw new Error(response.data.message);\n            }\n\n            return response.data;\n        } catch (error) {\n            throw error;\n        }\n    },\n\n    DELETE: () => {},\n};\n\n\nexport default BaseApi;\n","import BaseApi from './BaseApi';\n\n\nconst RoomApi = {\n    getRooms: (page) => {\n        return BaseApi.GET('/rooms/available', { page: page, });\n    },\n\n    createRoom: () => {\n        return BaseApi.POST('/rooms');\n    },\n\n    joinRoom: (roomId) => {\n        return BaseApi.PUT('/rooms/join', {\n            roomId: roomId,\n        });\n    },\n};\n\n\nexport default RoomApi;\n","import Noty from 'noty';\nimport { confirmAlert } from 'react-confirm-alert';\n\n\nconst alertOptions = {\n    theme: 'sunset',\n    timeout: 1000,\n    layout: 'bottomCenter',\n    progressBar: false,\n};\n\nexport const showError = (msg) => {\n    new Noty({\n        type: 'alert',\n        text: msg,\n        ...alertOptions\n    }).show();\n};\n\nexport const showInfo = (msg) => {\n    new Noty({\n        type: 'info',\n        text: msg,\n        ...alertOptions\n    }).show();\n};\n\nexport const showConfirmAlert = ({ title, message, confirmText = 'Yes', onConfirm, cancelText = 'No', onCancel}) => {\n    confirmAlert({\n        title: title,\n        message: message,\n        buttons: [\n            {\n                label: confirmText,\n                onClick: onConfirm\n            },\n            {\n                label: cancelText,\n                onClick: onCancel\n            }\n        ],\n    });\n};\n","import { handleActions, createAction } from 'redux-actions';\nimport { fromJS } from 'immutable';\nimport { createSelector } from 'reselect';\nimport Config from 'caro-config';\nimport _ from 'lodash';\nimport SocketClientEvents from 'caro-shared-resource/SocketClientEvents';\nimport socket from 'caro-socket';\nimport { showError } from 'caro-service/AlertService';\nimport sleep from 'sleep-promise';\n\n\n\n/**\n * =====================================================\n * Default state\n * =====================================================\n */\n\nconst defaultState = {\n    firstMoveUserId: null,\n    winnerId: null,\n    isCurentUserTurn: false,\n    squares: {},\n    lastSquareIndex: '',\n    winningSquares: {},\n\n    currentUserReadyNewGame: false,\n    competitorUserReadyNewGame: false,\n};\n\n\nconst checkHorizontal = (row, column, squares, rootSquareType, boardRow, boardColumn) => {\n    const winningSquares = {\n        [row + ',' + column]: true,\n    };\n\n    // Count left side\n    for (let i = (column - 1); i >= 0; i--) {\n        const squareIndex = row + ',' + i;\n        const squareType = squares[squareIndex];\n\n        if (squareType === rootSquareType) {\n            winningSquares[squareIndex] = true;\n        } else {\n            break;\n        }\n    }\n\n    // Count right side\n    for (let i = (column + 1); i < boardColumn; i++) {\n        const squareIndex = row + ',' + i;\n        const squareType = squares[squareIndex];\n\n        if (squareType === rootSquareType) {\n            winningSquares[squareIndex] = true;\n        } else {\n            break;\n        }\n    }\n\n    if (_.keys(winningSquares).length >= 5) {\n        return winningSquares;\n    } else {\n        return null;\n    }\n};\n\nconst checkVertical = (row, column, squares, rootSquareType, boardRow) => {\n    const winningSquares = {\n        [row + ',' + column]: true,\n    };\n\n    // Count top\n    for (let i = (row - 1); i >= 0; i--) {\n        const squareIndex = i + ',' + column;\n        const squareType = squares[squareIndex];\n\n        if (squareType === rootSquareType) {\n            winningSquares[squareIndex] = true;\n        } else {\n            break;\n        }\n    }\n\n    // Count bottom\n    for (let i = (row + 1); i < boardRow; i++) {\n        const squareIndex = i + ',' + column;\n        const squareType = squares[squareIndex];\n\n        if (squareType === rootSquareType) {\n            winningSquares[squareIndex] = true;\n        } else {\n            break;\n        }\n    }\n\n    if (_.keys(winningSquares).length >= 5) {\n        return winningSquares;\n    } else {\n        return null;\n    }\n};\n\nconst checkLeftBias = (row, column, squares, rootSquareType, boardRow, boardColumn) => {\n    const winningSquares = {\n        [row + ',' + column]: true,\n    };\n\n    // Count top\n    for (let x = (row - 1), y = (column - 1) ; x >= 0 && y >= 0; x--, y--) {\n        const squareIndex = x + ',' + y;\n        const squareType = squares[squareIndex];\n\n        if (squareType === rootSquareType) {\n            winningSquares[squareIndex] = true;\n        } else {\n            break;\n        }\n    }\n\n    // Count bottom\n    for (let x = (row + 1), y = (column + 1) ; x < boardRow && y < boardColumn; x++, y++) {\n        const squareIndex = x + ',' + y;\n        const squareType = squares[squareIndex];\n\n        if (squareType === rootSquareType) {\n            winningSquares[squareIndex] = true;\n        } else {\n            break;\n        }\n    }\n\n    if (_.keys(winningSquares).length >= 5) {\n        return winningSquares;\n    } else {\n        return null;\n    }\n};\n\nconst checkRightBias = (row, column, squares, rootSquareType, boardRow, boardColumn) => {\n    const winningSquares = {\n        [row + ',' + column]: true,\n    };\n\n    // Count top\n    for (let x = (row - 1), y = (column + 1) ; x >= 0 && y < boardColumn; x--, y++) {\n        const squareIndex = x + ',' + y;\n        const squareType = squares[squareIndex];\n\n        if (squareType === rootSquareType) {\n            winningSquares[squareIndex] = true;\n        } else {\n            break;\n        }\n    }\n\n    // Count bottom\n    for (let x = (row + 1), y = (column - 1) ; x < boardRow && y >= 0; x++, y--) {\n        const squareIndex = x + ',' + y;\n        const squareType = squares[squareIndex];\n\n        if (squareType === rootSquareType) {\n            winningSquares[squareIndex] = true;\n        } else {\n            break;\n        }\n    }\n\n    if (_.keys(winningSquares).length >= 5) {\n        return winningSquares;\n    } else {\n        return null;\n    }\n};\n\n\nexport const checkWinningMatchFromIndex = (squares, row, column) => {\n    const squareIndex = row + ',' + column;\n    const squareType = squares[squareIndex];\n    const checkers = [\n        checkHorizontal,\n        checkVertical,\n        checkLeftBias,\n        checkRightBias\n    ];\n\n    for (let i = 0; i < checkers.length; i++) {\n        const winningSquares = checkers[i](row, column, squares, squareType, Config.CARO_BOARD_ROW, Config.CARO_BOARD_COLUMN);\n        \n        if (winningSquares) {\n            return winningSquares;\n        }\n    }\n};\n\n\n/**\n * =====================================================\n * Actions\n * =====================================================\n */\n\nexport const match_RESET = createAction('match_RESET');\n\nexport const match_UPDATE_STATE = createAction('match_UPDATE_STATE');\n\nexport const match_STROKE = (row, column) => async (dispatch, getState) => {\n    const { match, user, room } = getState();\n    const { isCurentUserTurn, squares, firstMoveUserId } = match;\n\n    if (!firstMoveUserId) {\n        showError('Waiting user ...');\n        return;\n    }\n\n    if (!isCurentUserTurn) {\n        showError('Not your turn!');\n        return;\n    }\n\n    const squareIndex = row + ',' + column;\n\n    if (squares[squareIndex]) {\n        return;\n    }\n\n    const { currentUser } = user;\n    const squareType = (currentUser.id === firstMoveUserId) ? Config.FIRST_MOVE_SQUARE_TYPE : Config.SECOND_MOVE_SQUARE_TYPE;\n    const currentRoom = room.rooms[room.currentRoomId];\n    const competitorUserId = currentRoom.creatorUserId === currentUser.id ? currentRoom.competitorUserId : currentRoom.creatorUserId;\n\n    dispatch(match_UPDATE_STATE({\n        isCurentUserTurn: false,\n        squares: {\n            [squareIndex]: squareType,\n        },\n        lastSquareIndex: squareIndex,\n    }));\n\n    socket.emit(SocketClientEvents.match_STROKE, {\n        roomId: currentRoom.id,\n        row: row,\n        column: column,\n        competitorUserId: competitorUserId,\n        userId: currentUser.id,\n    });\n\n    const { match: nextMatch } = getState();\n    const winningSquares = checkWinningMatchFromIndex(nextMatch.squares, row, column);\n\n    if (winningSquares) {\n        dispatch(match_UPDATE_STATE({\n            winningSquares: winningSquares,\n        }));\n        socket.emit(SocketClientEvents.match_WIN, {\n            userId: currentUser.id,\n            competitorUserId: competitorUserId,\n        });\n\n        await sleep(1500);\n        dispatch(match_UPDATE_STATE({\n            winnerId: currentUser.id,\n        }));\n    }\n};\n\nexport const match_READY_NEW_GAME = () => (dispatch, getState) => {\n    const { user, room, match } = getState();\n    const { currentUser } = user;\n\n    if (!match.winnerId) {\n        return;\n    }\n\n    const currentRoom = room.rooms[room.currentRoomId];\n    const competitorUserId = (currentRoom.creatorUserId === currentUser.id) ? currentRoom.competitorUserId : currentRoom.creatorUserId;\n\n    if (!currentRoom.competitorUserId) {\n        return;\n    }\n    \n    dispatch(match_UPDATE_STATE({\n        currentUserReadyNewGame: true,\n    }));\n    \n    socket.emit(SocketClientEvents.match_READY_NEW_GAME, {\n        roomId: currentRoom.id,\n        competitorUserId: competitorUserId,\n    });\n};\n\nexport const match_REMATCH = () => (dispatch, getState) => {\n    const { match, user, room } = getState();\n    const { currentUser } = user;\n    const { winnerId } = match;\n    const currentRoom = room.rooms[room.currentRoomId];\n\n    const isCurentUserTurn = (currentUser.id !== winnerId); // Loser go first\n    const competitorUserId = (currentRoom.creatorUserId === currentUser.id) ? currentRoom.competitorUserId : currentRoom.creatorUserId;\n\n    dispatch(match_RESET({\n        isCurentUserTurn: isCurentUserTurn,\n        firstMoveUserId: isCurentUserTurn ? currentUser.id : competitorUserId,\n    }));\n};\n\n\n\n/**\n * =====================================================\n * Reducer\n * =====================================================\n */\n\nexport const reducer = handleActions({\n    match_RESET: (state, { payload }) => {\n        return {\n            ..._.cloneDeep(defaultState),\n            ...payload,\n        };\n    },\n\n    match_UPDATE_STATE: (state, { payload }) => {\n        return fromJS(state)\n            .mergeDeep(payload)\n            .toJS();\n    },\n}, defaultState);\n\n\n\n/**\n * =====================================================\n * Selectors\n * =====================================================\n */\n\nexport const squareSelector = createSelector(\n    (match, row, column) => ({ squares: match.squares, row: row, column: column}),\n    ({ squares, row, column }) => {\n        const squareIndex = row + ',' + column;\n        return squares[squareIndex];\n    }\n);\n\nexport const winningSquareSelector = createSelector(\n    (match, row, column) => ({ winningSquares: match.winningSquares, row: row, column: column}),\n    ({ winningSquares, row, column }) => {\n        const squareIndex = row + ',' + column;\n        return winningSquares[squareIndex] || false;\n    }\n);\n\n\n\nexport default reducer;\n","import { handleActions, createAction } from 'redux-actions';\nimport { fromJS } from 'immutable';\nimport RoomApi from 'caro-api/RoomApi';\nimport { user_UPDATE_STATE } from './user';\nimport { match_RESET } from './match';\nimport { createSelector } from 'reselect';\nimport _ from 'lodash';\nimport RoomStatus from 'caro-shared-resource/RoomStatus';\nimport socket from 'caro-socket';\nimport SocketClientEvents from 'caro-shared-resource/SocketClientEvents';\n\n\n\n/**\n * =====================================================\n * Default state\n * =====================================================\n */\nconst defaultState = {\n    rooms: {},\n    total: 0,\n    page: 1,\n    limit: 20,\n\n    isGettingRooms: false,\n    getRoomsError: null,\n\n    joiningRoom: false,\n    joinRoomError: null,\n\n    currentRoomId: null,\n};\n\n\n\n/**\n * =====================================================\n * Actions\n * =====================================================\n */\n\nexport const room_UPDATE_STATE = createAction('room_UPDATE_STATE');\n\nexport const room_UPDATE_ONE = createAction('room_UPDATE_ONE');\n\nexport const room_REMOVE = createAction('room_REMOVE');\n\nexport const room_GET_ROOMS = (shouldRefresh = false) => async (dispatch, getState) => {\n    const { room } = getState();\n    const page = shouldRefresh ? 1 : (room.page + 1);\n\n    if (room.isGettingRooms) {\n        return;\n    }\n\n    if (\n        !shouldRefresh &&\n        (page - 1) * room.limit > room.total\n    ) {\n        return;\n    }\n\n    // Set loading\n    dispatch(room_UPDATE_STATE({\n        isGettingRooms: true,\n        getRoomsError: null,\n    }));\n\n    try {\n        const response = await RoomApi.getRooms(page, room.limit);\n        const { rooms: rawRooms, total, creatorUsers: rawCreatorUsers } = response;\n        \n        const creatorUsers = _.reduce(rawCreatorUsers, (memo, user) => {\n            memo[user._id] = {\n                id: user._id,\n                ...user,\n            };\n            return memo;\n        }, {});\n        dispatch(user_UPDATE_STATE({\n            otherUsers: {\n                ...creatorUsers,\n            },\n        }));\n\n        const rooms = _.reduce(rawRooms, (memo, room) => {\n            memo[room._id] = {\n                id: room._id,\n                ...room,\n            };\n            return memo;\n        }, {});\n        dispatch(room_UPDATE_STATE({\n            isGettingRooms: false,\n            rooms: rooms,\n            total: total,\n            page: page,\n        }));\n    } catch (error) {\n        dispatch(room_UPDATE_STATE({\n            isGettingRooms: false,\n            getRoomsError: error.message,\n        }));\n    }\n};\n\n\nexport const room_NEW_ROOM = () => async (dispatch) => {\n    dispatch(room_UPDATE_STATE({\n        joiningRoom: true,\n        joinRoomError: null,\n    }));\n\n    try {\n       const newRoom = await RoomApi.createRoom();\n\n       dispatch(room_UPDATE_STATE({\n            rooms: {\n                [newRoom._id]: {\n                    id: newRoom._id,\n                    ...newRoom\n                }\n            },\n            currentRoomId: newRoom._id,\n            joiningRoom: false,\n        }));\n    } catch (error) {\n        dispatch(room_UPDATE_STATE({\n            joiningRoom: false,\n            joinRoomError: error.message,\n        }));\n    }\n};\n\nexport const room_JOIN_ROOM = (roomId) => async (dispatch) => {\n    dispatch(room_UPDATE_STATE({\n        joiningRoom: true,\n        joinRoomError: null,\n    }));\n\n    try {\n        const response = await RoomApi.joinRoom(roomId);\n        const { room: joinedRoom, creatorUser } = response;\n\n        dispatch(user_UPDATE_STATE({\n            otherUsers: {\n                [creatorUser._id]: {\n                    id: creatorUser._id,\n                    ...creatorUser,\n                }\n            }\n        }));\n        dispatch(room_UPDATE_STATE({\n            rooms: {\n                [joinedRoom._id]: {\n                    id: joinedRoom._id,\n                    ...joinedRoom\n                }\n            },\n            currentRoomId: joinedRoom._id,\n            joiningRoom: false,\n        }));\n        dispatch(match_RESET({\n            firstMoveUserId: creatorUser._id,\n        }));\n    } catch (error) {\n        dispatch(room_UPDATE_STATE({\n            joiningRoom: false,\n            joinRoomError: error.message,\n        }));\n    }\n};\n\nexport const room_OUT_ROOM = () => (dispatch, getState) => {\n    const { room, user } = getState();\n    const { currentRoomId } = room;\n    const { currentUser } = user;\n\n\n    if (!currentRoomId) {\n        return;\n    }\n\n    const currentRoom = room.rooms[currentRoomId];\n    const competitorUserId = currentRoom.creatorUserId === currentUser.id ? currentRoom.competitorUserId : currentRoom.creatorUserId;\n\n    dispatch(room_UPDATE_STATE({\n        currentRoomId: null,\n    }));\n    dispatch(match_RESET());\n\n    socket.emit(SocketClientEvents.room_EXIT, {\n        roomId: currentRoomId,\n        userId: currentUser.id,\n        competitorUserId: competitorUserId,\n    });\n};\n\n\n\n/**\n * =====================================================\n * Reducer\n * =====================================================\n */\n\nexport const reducer = handleActions({\n    room_UPDATE_STATE: (state, { payload }) => {\n        return fromJS(state)\n            .mergeDeep(payload)\n            .toJS();\n    },\n\n    room_REMOVE: (state, { payload }) => {\n        const { roomId } = payload;\n        return fromJS(state)\n            .removeIn(['rooms', roomId])\n            .toJS();\n    }\n}, defaultState);\n\n\n\n/**\n * =====================================================\n * Selectors\n * =====================================================\n */\n\nexport const sortedRoomIdsSelector = createSelector(\n    (room, user) => ({ rooms: room.rooms, currentUser: user.currentUser, }),\n    ({ rooms, currentUser }) => {\n        const availableRooms = _.filter(rooms, (room) => {\n            return (room.status === RoomStatus.WAITING && room.creatorUserId !== currentUser.id);\n        });\n        const sortedRooms = _.sortBy(availableRooms, (room) => {\n            return -room.updated;\n        });\n        const sortedRoomIds = _.map(sortedRooms, (room) => room.id);\n        return sortedRoomIds;\n    }\n);\n\nexport const roomSelector = createSelector(\n    (room, roomId) => ({ rooms: room.rooms, roomId: roomId, }),\n    ({ rooms, roomId }) => {\n        return rooms[roomId];\n    }\n);\n\n\n\nexport default reducer;\n","import SocketServerEvents from 'caro-shared-resource/SocketServerEvents';\nimport { dispatch, getState } from 'caro-store';\nimport { room_UPDATE_STATE, room_REMOVE } from 'caro-store/room';\nimport { user_UPDATE_STATE } from 'caro-store/user';\nimport { match_RESET } from 'caro-store/match';\n\n\nconst RoomHandler = (eventName, params) => {\n    switch (eventName) {\n        case SocketServerEvents.room_ADD_NEW: {\n            dispatch(user_UPDATE_STATE({\n                otherUsers: {\n                    [params.creatorUser._id]: {\n                        id: params.creatorUser._id,\n                        ...params.creatorUser,\n                    }\n                }\n            }));\n            dispatch(room_UPDATE_STATE({\n                rooms: {\n                    [params.room._id]: {\n                        id: params.room._id,\n                        ...params.room\n                    },\n                },\n            }));\n            break;\n        }\n        \n        case SocketServerEvents.room_REMOVE: {\n            const { roomId } = params;\n            dispatch(room_REMOVE({ roomId: roomId, }));\n            break;\n        }\n        \n        case SocketServerEvents.room_JOIN: {\n            dispatch(user_UPDATE_STATE({\n                otherUsers: {\n                    [params.competitorUser._id]: {\n                        id: params.competitorUser._id,\n                        ...params.competitorUser,\n                    }\n                }\n            }));\n            dispatch(room_UPDATE_STATE({\n                rooms: {\n                    [params.room._id]: {\n                        id: params.room._id,\n                        ...params.room\n                    },\n                },\n            }));\n            dispatch(match_RESET({\n                firstMoveUserId: params.room.creatorUserId,\n                isCurentUserTurn: true,\n            }));\n            break;\n        }\n\n        case SocketServerEvents.room_EXIT: {\n            const { roomId } = params;\n            const { user, room } = getState();\n            const { currentUser } = user;\n\n            if (roomId !== room.currentRoomId) {\n                return;\n            }\n\n            dispatch(room_UPDATE_STATE({\n                rooms: {\n                    [roomId]: {\n                        creatorUserId: currentUser.id,\n                        competitorUserId: null,\n                    },\n                },\n            }));\n            dispatch(match_RESET({\n                firstMoveUserId: null,\n            }));\n            break;\n        }\n\n        default:\n            break;\n    }\n};\n\n\nexport default RoomHandler;\n","import SocketServerEvents from 'caro-shared-resource/SocketServerEvents';\nimport { dispatch, getState } from 'caro-store';\nimport { match_UPDATE_STATE, checkWinningMatchFromIndex } from 'caro-store/match';\nimport Config from 'caro-config';\nimport sleep from 'sleep-promise';\n\n\nconst RoomHandler = async (eventName, params) => {\n    switch (eventName) {\n        case SocketServerEvents.match_STROKE: {\n            const { roomId, row, column, competitorUserId } = params;\n            const { room, match, user } = getState();\n            \n            if (roomId !== room.currentRoomId) {\n                return;\n            }\n\n            const { currentUser } = user;\n            const { firstMoveUserId } = match;\n            const competitorSquareIndex = row + ',' + column;\n            const competitorSquareType = currentUser.id === firstMoveUserId ? Config.SECOND_MOVE_SQUARE_TYPE : Config.FIRST_MOVE_SQUARE_TYPE;\n\n            dispatch(match_UPDATE_STATE({\n                squares: {\n                    [competitorSquareIndex]: competitorSquareType,\n                },\n                lastSquareIndex: competitorSquareIndex,\n            }));\n\n            const { match: nextMatch } = getState();\n            const winningSquares = checkWinningMatchFromIndex(nextMatch.squares, row, column);\n\n            if (winningSquares) {\n                dispatch(match_UPDATE_STATE({\n                    winningSquares: winningSquares,\n                }));\n\n                await sleep(1500);\n                dispatch(match_UPDATE_STATE({\n                    winnerId: competitorUserId,\n                }));\n            } else {\n                dispatch(match_UPDATE_STATE({\n                    isCurentUserTurn: true,\n                }));\n            }\n            break;\n        }\n\n        case SocketServerEvents.match_READY_NEW_GAME: {\n            const { roomId } = params;\n            const { room } = getState();\n            \n            if (roomId !== room.currentRoomId) {\n                return;\n            }\n\n            dispatch(match_UPDATE_STATE({\n                competitorUserReadyNewGame: true,\n            }));\n            break;\n        }\n\n        default:\n            break;\n    }\n};\n\n\nexport default RoomHandler;\n","import { handleActions, createAction } from 'redux-actions';\nimport { fromJS } from 'immutable';\nimport { createSelector } from 'reselect';\n// import _ from 'lodash';\n\n\n\n/**\n * =====================================================\n * Default state\n * =====================================================\n */\nconst defaultState = {\n    scores: {}, // [currentUserId,competitorUserId]: number\n};\n\n\n\n/**\n * =====================================================\n * Actions\n * =====================================================\n */\n\nexport const score_UPDATE_STATE = createAction('score_UPDATE_STATE');\n\n\n\n\n/**\n * =====================================================\n * Reducer\n * =====================================================\n */\n\nexport const reducer = handleActions({\n    score_UPDATE_STATE: (state, { payload }) => {\n        return fromJS(state)\n            .mergeDeep(payload)\n            .toJS();\n    },\n}, defaultState);\n\n\n\n/**\n * =====================================================\n * Selectors\n * =====================================================\n */\n\nexport const scoreSelector = createSelector(\n    (score, userId, competitorUserId) => ({ scores: score.scores, userId: userId, competitorUserId: competitorUserId }),\n    ({ scores, userId, competitorUserId }) => {\n        const scoreKey = userId + ',' + competitorUserId;\n        return scores[scoreKey] || 0;\n    }\n);\n\n\n\nexport default reducer;\n","import SocketServerEvents from 'caro-shared-resource/SocketServerEvents';\nimport { dispatch } from 'caro-store';\nimport { score_UPDATE_STATE } from 'caro-store/score';\nimport _ from 'lodash';\n\n\nconst ScoreHandler = (eventName, params) => {\n    switch (eventName) {\n        case SocketServerEvents.score_UPDATE: {\n            const { scores: rawScores } = params;\n            const scores = _.reduce(rawScores, (memo, item) => {\n                const { userId, competitorUserId, score } = item;\n                const scoreKey = userId + ',' + competitorUserId;\n                memo[scoreKey] = score;\n                return memo;\n            }, {});\n            dispatch(score_UPDATE_STATE({\n                scores: {\n                    ...scores,\n                },\n            }))\n            break;\n        }\n\n        default:\n            break;\n    }\n};\n\n\nexport default ScoreHandler;\n","import io from 'socket.io-client';\nimport socketWildcard from 'socketio-wildcard';\nimport Config from 'caro-config';\nimport _ from 'lodash';\nimport SocketClientEvents from 'caro-shared-resource/SocketClientEvents';\n\nimport combineHandlers from './combineHandlers';\nimport UserHandler from './UserHandler';\nimport RoomHandler from './RoomHandler';\nimport MatchHandler from './MatchHandler';\nimport ScoreHandler from './ScoreHandler';\nimport { getState } from 'caro-store';\n\n\nconst socket = io(Config.SOCKET_SERVER_URL);\nsocketWildcard(io.Manager)(socket);\n\nconst eventHandler = combineHandlers([\n    UserHandler,\n    RoomHandler,\n    MatchHandler,\n    ScoreHandler\n]);\n\n\nsocket.on('connect', function () {\n    const { user } = getState();\n    const token = _.get(user, ['currentUser', 'token']);\n\n    if (token) {\n        socket.emit(SocketClientEvents.user_AUTHENTICATE, { token: token, });\n    }\n\n    socket.on('*', ({ data }) => {\n        const [ eventName, params ] = data;\n        eventHandler(eventName, params);\n\n        if (process.env.NODE_ENV === 'development') {\n            console.log('socket: ', eventName, params);\n        }\n    });\n});\n\n\nexport default socket;\n","import BaseApi from './BaseApi';\n\n\nconst UserApi = {\n    login: ({ accessToken, facebookId }) => {\n        return BaseApi.POST('/users/facebook/login', {\n            accessToken: accessToken,\n            facebookId: facebookId,\n        });\n    },\n};\n\n\nexport default UserApi;\n","import { handleActions, createAction } from 'redux-actions';\nimport { fromJS } from 'immutable';\nimport { createSelector } from 'reselect';\nimport _ from 'lodash';\nimport socket from 'caro-socket';\nimport SocketClientEvents from 'caro-shared-resource/SocketClientEvents';\nimport UserApi from 'caro-api/UserApi';\n\n\n\n/**\n * =====================================================\n * Default state\n * =====================================================\n */\nconst defaultState = {\n    otherUsers: {},\n    currentUser: {},\n\n    isSocketAuthenticated: false,\n    isSocketAuthenticating: false,\n\n    isLogging: false,\n    loginError: null,\n};\n\n\n\n/**\n * =====================================================\n * Actions\n * =====================================================\n */\n\nexport const user_RESET = createAction('user_RESET');\n\nexport const user_UPDATE_STATE = createAction('user_UPDATE_STATE');\n\nexport const user_LOGIN = ({ accessToken, facebookId }) => async (dispatch) => {\n    // Loading\n    dispatch(user_UPDATE_STATE({ isLogging: true, loginError: null, }));\n\n    try {\n        const response = await UserApi.login({ accessToken: accessToken, facebookId: facebookId, });\n        \n        // Update current user\n        dispatch(user_UPDATE_STATE({\n            isLogging: false,\n            isSocketAuthenticating: true,\n            currentUser: {\n                id: response._id,\n                facebookId: response.facebookId,\n                username: response.username,\n                avatar: response.avatar,\n                token: response.token,\n            },\n        }));\n    } catch (error) {\n        dispatch(user_UPDATE_STATE({\n            isLogging: false,\n            loginError: error.message,\n        }));\n    }\n};\n\nexport const user_SOCKET_AUTHENTICATE = () => (dispatch, getState) => {\n    const { user } = getState();\n    const token = _.get(user, ['currentUser', 'token']);\n\n    dispatch(user_UPDATE_STATE({\n        isSocketAuthenticated: false,\n        isSocketAuthenticating: true,\n    }));\n    socket.emit(SocketClientEvents.user_AUTHENTICATE, { token: token, });\n};\n\nexport const user_LOGOUT = () => (dispatch) => {\n    dispatch(user_UPDATE_STATE({\n        currentUser: {\n            token: '',\n        },\n        isSocketAuthenticated: false,\n    }));\n    socket.emit(SocketClientEvents.user_LOGOUT);\n};\n\n\n\n\n/**\n * =====================================================\n * Reducer\n * =====================================================\n */\n\nexport const reducer = handleActions({\n    user_RESET: (state, { payload }) => {\n        return {\n            ..._.cloneDeep(defaultState),\n            ...payload,\n        };\n    },\n\n    user_UPDATE_STATE: (state, { payload }) => {\n        return fromJS(state)\n            .mergeDeep(payload)\n            .toJS();\n    },\n}, defaultState);\n\n\n\n/**\n * =====================================================\n * Selectors\n * =====================================================\n */\n\nexport const otherUserSelector = createSelector(\n    (user, userId) => ({ otherUsers: user.otherUsers, userId: userId, }),\n    ({ otherUsers, userId }) => {\n        return otherUsers[userId];\n    }\n);\n\n\n\n\nexport default reducer;\n","import { createStore, combineReducers, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { persistStore, persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\n\n\n// reducers\nimport globalReducer from './user';\nimport roomReducer from './room';\nimport userReducer from './user';\nimport matchReducer from './match';\nimport scoreReducer from './score';\n\n\nconst reducers = combineReducers({\n    global: globalReducer,\n    room: roomReducer,\n    user: persistReducer({\n        key: 'user',\n        storage: storage,\n        whitelist: ['currentUser'],\n    }, userReducer),\n    match: matchReducer,\n    score: scoreReducer,\n});\n\n\nconst middleWares = [thunk];\n\nif (process.env.NODE_ENV === 'development') {\n    const { logger } = require(`redux-logger`);\n    middleWares.push(logger);\n}\n\nconst composeEnhancers =\n    typeof window === 'object' &&\n    (window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ && process.env.NODE_ENV) ?   \n        window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}) :\n        (middleWares) => middleWares;\n\nconst enhancer = composeEnhancers (\n  applyMiddleware(...middleWares),\n);\n\nconst store = createStore(\n    reducers,\n    enhancer\n);\n\n\nexport const persistor = persistStore(store);\n\nexport const dispatch = store.dispatch;\nexport const getState = store.getState;\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { PacmanLoader } from 'react-spinners';\n\nconst spinnerId = 'caro-spinner';\n\n\nexport const showSpinner = () => {\n    if (document.getElementById(spinnerId)) {\n        return;\n    }\n\n    const overlayElement = document.createElement('div');\n    overlayElement.id = spinnerId;\n    document.body.appendChild(overlayElement);\n\n    ReactDOM.render(\n        <div className=\"caro-spinner-container\">\n            <PacmanLoader color=\"#95a5a6\" size={ 25 } />\n        </div>,\n        document.getElementById(spinnerId)\n    );\n};\n\n\nexport const hideSpinner = () => {\n    const spinnerElement = document.getElementById(spinnerId);\n\n    if (!spinnerElement) {\n        return;\n    }\n    \n    document.getElementById(spinnerId).remove();\n};\n","import React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport _ from 'lodash';\n\nimport { user_LOGIN } from 'caro-store/user';\nimport { showSpinner, hideSpinner } from 'caro-service/SpinnerService';\nimport { showError } from 'caro-service/AlertService';\n\nimport './LoginScreen.scss';\n\n\nclass LoginScreen extends PureComponent {\n\n    componentWillMount() {\n        if (this.props.token) {\n            this.props.history.push('/rooms');\n        }\n    }\n\n    componentDidMount() {\n        document.title = 'Caro online';\n    }\n\n    componentDidUpdate(prevProps) {\n        if (!prevProps.isLogging && this.props.isLogging) {\n            showSpinner();\n        }\n\n        if (prevProps.isLogging && !this.props.isLogging) {\n            hideSpinner();\n        }\n\n        if (!prevProps.loginError && this.props.loginError) {\n            showError('Can not connect to server');\n        }\n\n        if (this.props.token) {\n            this.props.history.push('/rooms');\n        }\n    }\n\n    onLoginButtonPressed() {\n        const FB = window.FB;\n\n        FB.login(() => {\n            FB.getLoginStatus((response) => {\n                if (response.status !== 'connected') {\n                    return;\n                }\n\n                const { authResponse } = response;\n                const { accessToken, userID: facebookId } = authResponse;\n\n                this.props._login(accessToken, facebookId);\n            });\n        });\n    }\n\n    render() {\n        return (\n            <div id=\"login-screen\">\n                <h1 className=\"title\">Caro online</h1>\n                <h6>The world leader strategy game</h6>\n\n                {/* Facebook login button */}\n                <button className=\"loginBtn loginBtn--facebook\" onClick={() => this.onLoginButtonPressed()}>\n                    Login with Facebook\n                </button>\n            </div>\n        );\n    }\n}\n\n\nconst mapStateToProps = ({ user }) => ({\n    token: _.get(user, ['currentUser', 'token']),\n    isLogging: user.isLogging,\n    loginError: user.loginError,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n    _login: (accessToken, facebookId) => {\n        return dispatch(user_LOGIN({\n            accessToken: accessToken,\n            facebookId: facebookId,\n        }));\n    },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginScreen);\n","import React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport { otherUserSelector } from 'caro-store/user';\n\n\nclass CreatorName extends PureComponent {\n\n    render() {\n        const { user } = this.props;\n\n        if (!user) {\n            return null;\n        }\n\n        return (\n            <span>\n                { user.username }\n            </span>\n        );\n    }\n}\n\n\nconst mapStateToProps = ({ user }, ownProps) => ({\n    user: otherUserSelector(user, ownProps.userId),\n});\n\n\nexport default connect(mapStateToProps)(CreatorName);\n","import React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport CreatorName from './CreatorName';\nimport { roomSelector, room_JOIN_ROOM } from 'caro-store/room';\n\nclass RoomItem extends PureComponent {\n\n    onRoomItemClicked = () => {\n        const { room } = this.props;\n\n        if (!room) {\n            return null;\n        }\n\n        this.props._joinRoom(room.id);\n    }\n\n    render() {\n        const { room } = this.props;\n\n        if (!room) {\n            return null;\n        }\n\n        return (\n            <tr className=\"room-item\" onClick={ this.onRoomItemClicked }>\n                <td>\n                    <CreatorName userId={ room.creatorUserId } />\n                </td>\n                <td className=\"text-right\">1/2</td>\n            </tr>\n        );\n    }\n}\n\n\nconst mapStateToProps = ({ room }, ownProps) => ({\n    room: roomSelector(room, ownProps.roomId),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n    _joinRoom: (roomId) => {\n        return dispatch(room_JOIN_ROOM(roomId));\n    }\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RoomItem);\n","import React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport _ from 'lodash';\nimport { BeatLoader } from 'react-spinners';\n\nimport ServerError from 'caro-shared-resource/ServerError';\nimport { room_GET_ROOMS, sortedRoomIdsSelector, room_NEW_ROOM } from 'caro-store/room';\nimport { user_LOGOUT, user_SOCKET_AUTHENTICATE } from 'caro-store/user';\nimport RoomItem from './RoomItem';\nimport { showSpinner, hideSpinner } from 'caro-service/SpinnerService';\nimport { showError } from 'caro-service/AlertService';\n\nimport './RoomScreen.scss';\n\n\nclass RoomScreen extends PureComponent {\n\n    componentWillMount() {\n        if (!this.props.token) {\n            this.props.history.push('/');\n        }\n    }\n\n    componentDidMount() {\n        document.title = 'Room';\n        document.addEventListener('scroll', this.trackScrolling);\n\n        if (!this.props.isSocketAuthenticated) {\n            this.props._socketAuthenticate();\n        } else {\n            this.props._getRooms(true);\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        if (!prevProps.isSocketAuthenticated && this.props.isSocketAuthenticated) {\n            this.props._getRooms(true);\n        }\n\n        // Socket authenticate spinner\n        if (!prevProps.isSocketAuthenticating && this.props.isSocketAuthenticating) {\n            showSpinner();\n        }\n\n        if (prevProps.isSocketAuthenticating && !this.props.isSocketAuthenticating) {\n            hideSpinner();\n            if (!this.props.isSocketAuthenticated) {\n                this.props._logout();\n                this.props.history.push('/');\n            }\n        }\n\n        // Joining room spinner\n        if (!prevProps.joiningRoom && this.props.joiningRoom) {\n            showSpinner();\n        }\n\n        if (prevProps.joiningRoom && !this.props.joiningRoom) {\n            hideSpinner();\n        }\n\n        // Join room error message\n        if (!prevProps.joinRoomError && this.props.joinRoomError) {\n            switch(this.props.joinRoomError) {\n                case ServerError.ROOM_FULL:\n                    showError('Room full');\n                    break;\n\n                case ServerError.ROOM_DELETED:\n                    showError('Room has been deleted');\n                    break;\n\n                default:\n                    showError('Something went wrong');\n            }\n            this.props._getRooms(true);\n        }\n\n        // Joined room\n        if (!prevProps.currentRoomId && this.props.currentRoomId) {\n            this.props.history.push('/match');\n        }\n\n        // Get room error\n        if (!prevProps.getRoomsError && this.props.getRoomsError) {\n            if (this.props.getRoomsError === ServerError.UNAUTHENTICATED) {\n                this.props._logout();\n                this.props.history.push('/');\n                return;\n            } else {\n                showError('Can not connect to server');\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('scroll', this.trackScrolling);\n    }\n\n    isBottom(el) {\n        return el.getBoundingClientRect().bottom <= window.innerHeight;\n    }\n\n    trackScrolling = () => {\n        const wrappedElement = document.getElementById('room-screen-container');\n\n        if (this.isBottom(wrappedElement)) {\n            this.props._getRooms();\n        }\n    };\n\n    onNewRoomButtonClicked = () => {\n        this.props._createRoom();\n    }\n\n    onLogoutButtonClicked = () => {\n        this.props._logout();\n        this.props.history.push('/');\n    }\n\n\n    render() {\n        const { roomIds, isGettingRooms } = this.props;\n\n        return (\n            <div id=\"room-screen\">\n                <div id=\"room-screen-container\" className=\"container grid-sm\">\n                    <div className=\"room-status-container\">\n                        {/* New room button */}\n                        <button className=\"add-button\" onClick={ this.onNewRoomButtonClicked }>New room</button>\n\n                        {/* Total room status */}\n                        {/* <span>Total rooms: { totalRooms }</span> */}\n\n                        {/* Logout button */}\n                        <button className=\"btn btn-link\" onClick={ this.onLogoutButtonClicked }>Logout</button>\n                    </div>\n\n                    {/* List rooms */}\n                    <table className=\"table table-hover\">\n                        <tbody>\n                            {_.map(roomIds, (roomId) => (\n                                <RoomItem key={ roomId } roomId={ roomId } />\n                            ))}\n                        </tbody>\n                    </table>\n\n                    <div className=\"spinner\">\n                        <BeatLoader size={ 8 } color=\"#95a5a6\" loading={ isGettingRooms } />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\n\nconst mapStateToProps = ({ room, user }) => ({\n    token: _.get(user, ['currentUser', 'token']),\n    isSocketAuthenticated: user.isSocketAuthenticated,\n    isSocketAuthenticating: user.isSocketAuthenticating,\n\n    totalRooms: room.total,\n    roomIds: sortedRoomIdsSelector(room, user),\n\n    isGettingRooms: room.isGettingRooms,\n    getRoomsError: room.getRoomsError,\n\n    joiningRoom: room.joiningRoom,\n    joinRoomError: room.joinRoomError,\n\n    currentRoomId: room.currentRoomId,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n    _getRooms: (shouldRefresh) => {\n        return dispatch(room_GET_ROOMS(shouldRefresh));\n    },\n    _createRoom: () => {\n        return dispatch(room_NEW_ROOM());\n    },\n    _socketAuthenticate: () => {\n        return dispatch(user_SOCKET_AUTHENTICATE());\n    },\n    _logout: () => {\n        return dispatch(user_LOGOUT());\n    }\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RoomScreen);\n","import React, { PureComponent, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport classNames from 'classnames';\n\nimport { SquareType } from 'caro-config';\nimport { squareSelector, winningSquareSelector, match_STROKE } from 'caro-store/match';\nimport oImage from 'caro-assets/images/o.png';\nimport xImage from 'caro-assets/images/x.png';\n\nimport './CaroBoardSquare.scss';\n\n\nclass CaroBoardSquare extends PureComponent {\n\n    stroke = () => {\n        const { row, column } = this.props;\n        this.props._stroke(row, column);\n    }\n\n    renderXO = () => {\n        const { squareType } = this.props;\n\n        if (!squareType) {\n            return null;\n        }\n\n        return (\n            <Fragment>\n                {squareType === SquareType.O ? (\n                    <img className=\"caro-board-image\" alt=\"o\" src={ oImage } />\n                ) : (\n                    <img className=\"caro-board-image\" alt=\"x\" src={ xImage } />\n                )}\n            </Fragment>\n        );\n    }\n\n    render() {\n        const { isWinningSquare, isLastSquare } = this.props;\n\n        return (\n            <div\n                id=\"caro-board-square\"\n                className={classNames({\n                    'square-winning': isWinningSquare,\n                    'square-last-index': isLastSquare,\n                })}\n                onClick={ this.stroke }\n            >\n                { this.renderXO() }\n            </div>\n        );\n    }\n}\n\n\nconst mapStateToProps = ({ match }, ownProps) => ({\n    squareType: squareSelector(match, ownProps.row, ownProps.column),\n    isWinningSquare: winningSquareSelector(match, ownProps.row, ownProps.column),\n    isLastSquare: match.lastSquareIndex === (ownProps.row + ',' + ownProps.column),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n    _stroke: (row, column) => {\n        return dispatch(match_STROKE(row, column));\n    }\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CaroBoardSquare);\n","import React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport _ from 'lodash';\n\nimport Config from 'caro-config';\nimport CaroBoardSquare from './CaroBoardSquare';\n\nimport './CaroBoard.scss';\n\n\nclass CaroBoard extends PureComponent {\n\n    render() {\n        return (\n            <div id=\"caro-board\">\n                {/* Render row */}\n                {_.map(new Array(Config.CARO_BOARD_ROW), (row, rowIndex) => (\n                    <div className=\"caro-board-row\" key={ rowIndex }>\n                        {/* Render column */}\n                        {_.map(new Array(Config.CARO_BOARD_COLUMN), (col, columnIndex) => (\n                            <CaroBoardSquare key={ columnIndex } row={ rowIndex } column={ columnIndex } />\n                        ))}\n                    </div>\n                ))}\n            </div>\n        );\n    }\n}\n\n\nconst mapStateToProps = () => ({\n\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n \n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CaroBoard);\n","import React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport { scoreSelector } from 'caro-store/score';\n\n\nclass UserScore extends PureComponent {\n\n    render() {\n        const { score } = this.props;\n\n        return (\n            <div className=\"chip\">\n                Wins: { score }\n            </div>\n        );\n    }\n}\n\n\nconst mapStateToProps = ({ score }, ownProps) => ({\n    score: scoreSelector(score, ownProps.userId, ownProps.competitorUserId),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n \n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserScore);\n","import React, { PureComponent, Fragment } from 'react';\nimport { connect } from 'react-redux';\n\nimport { otherUserSelector } from 'caro-store/user';\nimport { showInfo } from 'caro-service/AlertService';\nimport UserScore from './UserScore';\n\nimport './CompetitorUser.scss';\n\n\nclass CompetitorUser extends PureComponent {\n\n    componentDidUpdate(prevProps) {\n        if (!prevProps.competitorUser && this.props.competitorUser) {\n            showInfo(`${this.props.competitorUser.username} has joined the room`);\n        }\n\n        if (prevProps.competitorUser && !this.props.competitorUser) {\n            showInfo(`${prevProps.competitorUser.username} has lefted the room`);\n        }\n    }\n\n    render() {\n        const { competitorUser, userId, isCurentUserTurn } = this.props;\n\n        return (\n            <div id=\"current-user\">\n                {competitorUser ? (\n                    <Fragment>\n                        <img className=\"user-avatar\" alt=\"avatar\" src={ competitorUser.avatar } />\n                        <p className=\"user-name text-bold\">\n                            { competitorUser.username }\n\n                            {/* Competitor turn status */}\n                            {!isCurentUserTurn ? (\n                                <i className=\"fas fa-user-clock user-current-turn-icon\"></i>\n                            ) : null}\n                        </p>\n                        \n                        <UserScore userId={ competitorUser.id } competitorUserId={ userId } />\n\n                        {/* Toolbox */}\n                        <div className=\"tool-box\">\n                            \n                        </div>\n                    </Fragment>\n                ) : (\n                    <p>Waiting user...</p>\n                )}\n            </div>\n        );\n    }\n}\n\n\nconst mapStateToProps = ({ user, match }, ownProps) => ({\n    competitorUser: otherUserSelector(user, ownProps.competitorUserId),\n    isCurentUserTurn: match.isCurentUserTurn,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CompetitorUser);\n","import React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport UserScore from './UserScore';\nimport './CurrentUser.scss';\n\n\nclass CurrentUser extends PureComponent {\n\n    render() {\n        const { currentUser, competitorUserId, isCurentUserTurn } = this.props;\n\n        return (\n            <div id=\"current-user\">\n                <img className=\"user-avatar\" alt=\"avatar\" src={ currentUser.avatar } />\n                <p className=\"user-name text-bold\">\n                    { currentUser.username }\n\n                    {/* Current turn status */}\n                    {isCurentUserTurn ? (\n                        <i className=\"fas fa-user-clock user-current-turn-icon\"></i>\n                    ) : null}\n                </p>\n                \n                <UserScore userId={ currentUser.id } competitorUserId={ competitorUserId } />\n\n                {/* Toolbox */}\n                <div className=\"tool-box\">\n                    \n                </div>\n            </div>\n        );\n    }\n}\n\n\nconst mapStateToProps = ({ user, match }) => ({\n    currentUser: user.currentUser,\n    isCurentUserTurn: match.isCurentUserTurn,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n \n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CurrentUser);\n","import React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport { showConfirmAlert } from 'caro-service/AlertService';\nimport { showSpinner, hideSpinner } from 'caro-service/SpinnerService';\nimport { roomSelector, room_OUT_ROOM } from 'caro-store/room';\nimport { match_READY_NEW_GAME, match_REMATCH } from 'caro-store/match';\nimport { showInfo } from 'caro-service/AlertService';\nimport CaroBoard from './CaroBoard';\nimport CompetitorUser from './CompetitorUser';\nimport CurrentUser from './CurrentUser';\n\nimport './MatchScreen.scss';\n\n\nclass MatchScreen extends PureComponent {\n\n    componentWillMount() {\n        if (!this.props.currentRoomId) {\n            this.props.history.push('/rooms');\n        }\n    }\n\n    componentDidMount() {\n        document.title = 'Playing';\n        window.addEventListener('popstate', this.onBackButtonPressed);\n    }\n\n    componentDidUpdate(prevProps) {\n        const {\n            history,\n            winnerId,\n            currentUser,\n            currentUserReadyNewGame,\n            competitorUserReadyNewGame,\n            room,\n            _playNewGame,\n            _reMatch,\n            _exitRoom,\n        } = this.props;\n\n        if (prevProps.room && !room) {\n            history.push('/rooms');\n            return;\n        }\n\n        if (!prevProps.winnerId && winnerId) {\n            const didCurrentUserWin = (winnerId === currentUser.id);\n            const title = didCurrentUserWin ? 'You win' : 'You lose';\n\n            showConfirmAlert({\n                title: title,\n                message: 'Play new game?',\n                cancelText: 'Exit room',\n                onConfirm: () => {\n                    _playNewGame();\n                },\n                onCancel: () => {\n                    _exitRoom();\n                }, // Out room\n            });\n        }\n\n        if (!prevProps.currentUserReadyNewGame && currentUserReadyNewGame) {\n            showSpinner();\n        }\n\n        if (prevProps.currentUserReadyNewGame && !currentUserReadyNewGame) {\n            hideSpinner();\n        }\n\n        if (\n            currentUserReadyNewGame &&\n            competitorUserReadyNewGame &&\n            (!prevProps.currentUserReadyNewGame || !prevProps.competitorUserReadyNewGame)\n        ) {\n            _reMatch();\n            showInfo('Start new match');\n        }\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('popstate', this.onBackButtonPressed);\n    }\n\n    onBackButtonPressed = () => {\n        this.props._exitRoom();\n    }\n    \n    onExitRoomButtonClicked = () => {\n        this.props._exitRoom();\n    }\n\n    render() {\n        const { room, currentUser } = this.props;\n\n        if (!room) {\n            return null;\n        }\n\n        const competitorUserId = room.creatorUserId === currentUser.id ? room.competitorUserId : room.creatorUserId;\n\n\n        return (\n            <div id=\"match-screen\">\n                <CaroBoard />\n\n                {/* Users info */}\n                <div className=\"user-container\">\n                    <CompetitorUser userId={ currentUser.id } competitorUserId={ competitorUserId } />\n                    <CurrentUser competitorUserId={ competitorUserId } />\n\n                    {/* Exit room button */}\n                    <button className=\"exit-button\" onClick={ this.onExitRoomButtonClicked }>\n                        <i className=\"fas fa-sign-out-alt fa-lg text-dark\"></i>\n                    </button>\n                </div>\n            </div>\n        );\n    }\n}\n\n\nconst mapStateToProps = ({ room, user, match }) => ({\n    currentRoomId: room.currentRoomId,\n    room: roomSelector(room, room.currentRoomId),\n    currentUser: user.currentUser,\n    winnerId: match.winnerId,\n    currentUserReadyNewGame: match.currentUserReadyNewGame,\n    competitorUserReadyNewGame: match.competitorUserReadyNewGame,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n    _playNewGame: () => {\n        return dispatch(match_READY_NEW_GAME());\n    },\n    _reMatch: () => {\n        return dispatch(match_REMATCH());\n    },\n    _exitRoom: () => {\n        return dispatch(room_OUT_ROOM());\n    },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MatchScreen);\n","import React, { PureComponent } from 'react';\nimport { HashRouter, Route } from 'react-router-dom';\n\n// Screens\nimport LoginScreen from 'caro-screens/LoginScreen/LoginScreen';\nimport RoomsScreen from 'caro-screens/RoomScreen/RoomScreen';\nimport MatchScreen from 'caro-screens/MatchScreen/MatchScreen';\n\nexport default class Router extends PureComponent {\n    render() {\n        return (\n            <HashRouter>\n                <div id=\"router\">\n                    <Route path=\"/\" exact component={ LoginScreen } />\n                    <Route path=\"/rooms\" exact component={ RoomsScreen } />\n                    <Route path=\"/match\" exact component={ MatchScreen } />\n                </div>\n            </HashRouter>\n        );\n    }\n}\n","import React, { Component } from 'react';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\n\nimport store, { persistor } from 'caro-store';\nimport Router from './Router';\n\n// Reset css\nimport 'normalize.css';\n\n// Spectre css framework\nimport 'spectre.css/dist/spectre.min.css';\nimport 'spectre.css/dist/spectre-exp.min.css';\nimport 'spectre.css/dist/spectre-icons.min.css';\n\n// Caro style\nimport 'caro-styles/index.scss';\n\n// React confirm alert\nimport 'react-confirm-alert/src/react-confirm-alert.css';\n\n\n// Run socket\nimport 'caro-socket';\n\n\nclass App extends Component {\n    render() {\n        return (\n            <Provider store={ store }>\n                <PersistGate loading={ null } persistor={ persistor }>\n                    <Router />\n                </PersistGate>\n            </Provider>\n        );\n    }\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nconsole.log('Version 1.1.4');\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = {\n  UNAUTHENTICATED: 'UNAUTHENTICATED',\n  USER_NOT_FOUND: 'USER_NOT_FOUND',\n  ROOM_FULL: 'ROOM_FULL',\n  ROOM_DELETED: 'ROOM_DELETED'\n};","const combineHandlers = (handlers = []) => {\n    return (eventName, params) => {\n        for (let i = 0; i < handlers.length; i++) {\n            setImmediate(() => {\n                handlers[i](eventName, params);\n            });\n        }\n    };\n};\n\n\nexport default combineHandlers;","module.exports = {\n  WAITING: 'WAITING',\n  PLAYING: 'PLAYING'\n};","module.exports = __webpack_public_path__ + \"static/media/o.11a067f2.png\";","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}